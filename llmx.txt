# CloudflareAstro Blog - Project Brief

## Purpose
Multilingual Astro blog for `article.maipdf.com`, focused on PDF/image sharing education content.

## Stack
- Astro 5.x
- Cloudflare adapter
- Content collections (`src/content/blog/**`)
- Tailwind + PostCSS

## Build and Deploy
- `npm run dev` - local development
- `npm run build` - full build (search index + image optimization + Astro build)
- `npm run build:fast` - Astro build only
- `npm run deploy` - build + deploy via Wrangler

## SEO and Indexing
- `site` is set to `https://article.maipdf.com`
- Trailing-slash canonical policy: `trailingSlash: 'never'`
- Runtime redirects handled in `src/middleware.ts`
- Sitemap generated by `@astrojs/sitemap`

## Important Paths
- Content: `src/content/blog/<lang>/*.md`
- Shared head/SEO tags: `src/components/BaseHead.astro`
- URL canonicalization and slug redirects: `src/middleware.ts`
- Search index generator: `src/scripts/generate-search-index.js`
- Image optimizer: `src/scripts/optimize-images.js`

## Content Rules (Practical)
- Every post should have valid frontmatter:
  - `title`, `description`, `pubDate`
  - optional: `heroImage`, `tags`, `updatedDate`, `noindex`
- Prefer internal links without trailing slash.
- Keep slugs stable; if changed, add redirect mapping in middleware.

## Notes
- `/fonts` is treated as a non-index utility page.
- Keep sitemap and canonical strategy aligned after large content updates.
